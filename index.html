<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Home - Modern Store</title>

<!-- Bootstrap CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">

<style>
:root {
    --primary-color: #4361ee;
    --primary-light: #4895ef;
    --primary-lighter: #eef2ff;
    --secondary-color: #3f37c9;
    --accent-color: #4cc9f0;
    --dark-color: #2b2d42;
    --light-color: #f8f9fa;
    --success-color: #38b000;
    --gray-light: #e9ecef;
    --gray-medium: #adb5bd;
    --shadow: 0 10px 30px rgba(67, 97, 238, 0.15);
    --radius: 16px;
    --transition: all 0.3s ease;
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Poppins', sans-serif;
    background: linear-gradient(135deg, #f0f4ff 0%, #e3e9ff 100%);
    min-height: 100vh;
    color: var(--dark-color);
    line-height: 1.6;
}

/* Header & Navigation */
.header {
    background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
    color: white;
    padding: 0;
    box-shadow: 0 4px 20px rgba(67, 97, 238, 0.2);
    position: sticky;
    top: 0;
    z-index: 1000;
}

.navbar {
    padding: 0;
}

.navbar-brand {
    font-weight: 700;
    font-size: 1.5rem;
    color: white !important;
    display: flex;
    align-items: center;
    gap: 10px;
}

.navbar-brand i {
    color: var(--accent-color);
}

.nav-link {
    color: rgba(255, 255, 255, 0.9) !important;
    font-weight: 500;
    padding: 20px 15px !important;
    transition: var(--transition);
    border-bottom: 3px solid transparent;
}

.nav-link:hover, .nav-link.active {
    color: white !important;
    background: rgba(255, 255, 255, 0.1);
    border-bottom: 3px solid var(--accent-color);
}

.nav-link i {
    margin-right: 8px;
    font-size: 0.9rem;
}

.user-info {
    display: flex;
    align-items: center;
    gap: 15px;
    color: white;
}

.user-avatar {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background: var(--accent-color);
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 600;
    color: white;
}

/* Hero Section */
.hero {
    background: linear-gradient(135deg, rgba(67, 97, 238, 0.9), rgba(63, 55, 201, 0.9)), url('https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80');
    background-size: cover;
    background-position: center;
    color: white;
    text-align: center;
    padding: 80px 20px;
    border-radius: 0 0 var(--radius) var(--radius);
    margin-bottom: 40px;
    position: relative;
    overflow: hidden;
}

.hero::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: radial-gradient(circle at 30% 20%, rgba(76, 201, 240, 0.3) 0%, transparent 50%),
                radial-gradient(circle at 70% 80%, rgba(72, 149, 239, 0.3) 0%, transparent 50%);
    z-index: 0;
}

.hero-content {
    position: relative;
    z-index: 1;
    max-width: 800px;
    margin: 0 auto;
}

.hero h1 {
    font-weight: 700;
    font-size: 2.8rem;
    margin-bottom: 20px;
    text-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
}

.hero p {
    font-size: 1.2rem;
    opacity: 0.9;
    margin-bottom: 30px;
    max-width: 600px;
    margin-left: auto;
    margin-right: auto;
}

.hero-buttons {
    display: flex;
    gap: 15px;
    justify-content: center;
    flex-wrap: wrap;
}

.btn-hero {
    padding: 12px 30px;
    border-radius: 10px;
    font-weight: 600;
    font-size: 1rem;
    transition: var(--transition);
    display: flex;
    align-items: center;
    gap: 10px;
}

.btn-hero-primary {
    background: var(--accent-color);
    color: var(--dark-color);
    border: 2px solid var(--accent-color);
}

.btn-hero-primary:hover {
    background: transparent;
    color: white;
    transform: translateY(-3px);
    box-shadow: 0 5px 15px rgba(76, 201, 240, 0.3);
}

.btn-hero-secondary {
    background: transparent;
    color: white;
    border: 2px solid white;
}

.btn-hero-secondary:hover {
    background: white;
    color: var(--primary-color);
    transform: translateY(-3px);
}

/* Products Section */
.products-section {
    padding: 0 20px 40px;
}

.section-header {
    text-align: center;
    margin-bottom: 40px;
}

.section-header h2 {
    font-weight: 700;
    color: var(--dark-color);
    font-size: 2.2rem;
    margin-bottom: 10px;
}

.section-header p {
    color: var(--gray-medium);
    font-size: 1.1rem;
    max-width: 600px;
    margin: 0 auto;
}

/* Filters */
.filters {
    background: white;
    border-radius: var(--radius);
    padding: 20px;
    margin-bottom: 30px;
    box-shadow: var(--shadow);
    border: 1px solid rgba(67, 97, 238, 0.1);
}

.filter-row {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 15px;
    align-items: end;
}

.filter-group {
    margin-bottom: 0;
}

.filter-group label {
    font-weight: 500;
    color: var(--dark-color);
    margin-bottom: 8px;
    display: block;
}

.filter-group select,
.filter-group input {
    width: 100%;
    padding: 10px 15px;
    border-radius: 10px;
    border: 2px solid var(--gray-light);
    background: white;
    transition: var(--transition);
}

.filter-group select:focus,
.filter-group input:focus {
    border-color: var(--primary-color);
    outline: none;
    box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.1);
}

.btn-filter {
    background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
    color: white;
    border: none;
    padding: 10px 20px;
    border-radius: 10px;
    font-weight: 600;
    transition: var(--transition);
    display: flex;
    align-items: center;
    gap: 8px;
}

.btn-filter:hover {
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(67, 97, 238, 0.2);
}

/* Product Grid */
.product-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: 25px;
    margin-top: 20px;
}

/* Product Card */
.product-card {
    background: white;
    border-radius: var(--radius);
    overflow: hidden;
    box-shadow: var(--shadow);
    transition: var(--transition);
    border: 1px solid rgba(67, 97, 238, 0.1);
    opacity: 0;
    transform: translateY(30px);
    animation: fadeInUp 0.6s ease forwards;
}

@keyframes fadeInUp {
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.product-card:hover {
    transform: translateY(-10px);
    box-shadow: 0 20px 40px rgba(67, 97, 238, 0.2);
}

.product-image {
    height: 200px;
    background: linear-gradient(135deg, rgba(67, 97, 238, 0.05), rgba(76, 201, 240, 0.05));
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    position: relative;
}

.product-image img {
    max-width: 100%;
    max-height: 100%;
    object-fit: contain;
    padding: 20px;
    transition: var(--transition);
}

.product-card:hover .product-image img {
    transform: scale(1.05);
}

.default-img {
    font-size: 60px;
    color: var(--primary-light);
    opacity: 0.7;
}

.product-details {
    padding: 20px;
}

.product-title {
    font-weight: 600;
    font-size: 1.2rem;
    color: var(--dark-color);
    margin-bottom: 8px;
    height: 2.8em;
    overflow: hidden;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
}

.product-owner {
    display: flex;
    align-items: center;
    gap: 8px;
    color: var(--gray-medium);
    font-size: 0.9rem;
    margin-bottom: 10px;
}

.product-owner i {
    color: var(--primary-light);
}

.product-price {
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--primary-color);
    margin: 15px 0;
}

.product-price::before {
    content: '$';
    font-size: 1.2rem;
    opacity: 0.8;
}

.product-actions {
    display: flex;
    gap: 10px;
    margin-top: 15px;
}

.btn-buy, .btn-details {
    flex: 1;
    padding: 10px;
    border-radius: 8px;
    font-weight: 600;
    font-size: 0.9rem;
    transition: var(--transition);
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    border: none;
    cursor: pointer;
}

.btn-buy {
    background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
    color: white;
}

.btn-buy:hover {
    background: linear-gradient(135deg, var(--secondary-color), var(--primary-color));
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(67, 97, 238, 0.2);
}

.btn-details {
    background: var(--primary-lighter);
    color: var(--primary-color);
    border: 2px solid var(--primary-light);
}

.btn-details:hover {
    background: var(--primary-light);
    color: white;
    transform: translateY(-2px);
}

/* Empty State */
.empty-state {
    text-align: center;
    padding: 60px 20px;
    color: var(--gray-medium);
}

.empty-state i {
    font-size: 80px;
    margin-bottom: 20px;
    color: var(--gray-light);
}

.empty-state h3 {
    font-weight: 600;
    margin-bottom: 10px;
    color: var(--dark-color);
}

/* Footer */
.footer {
    background: linear-gradient(135deg, var(--dark-color), #3a3d5c);
    color: white;
    padding: 50px 20px 20px;
    margin-top: 60px;
}

.footer-content {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 40px;
    margin-bottom: 40px;
}

.footer-section h4 {
    font-weight: 600;
    margin-bottom: 20px;
    color: var(--accent-color);
    font-size: 1.2rem;
}

.footer-section p {
    opacity: 0.8;
    line-height: 1.8;
    margin-bottom: 20px;
}

.footer-links {
    list-style: none;
    padding: 0;
}

.footer-links li {
    margin-bottom: 12px;
}

.footer-links a {
    color: rgba(255, 255, 255, 0.8);
    text-decoration: none;
    transition: var(--transition);
    display: flex;
    align-items: center;
    gap: 10px;
}

.footer-links a:hover {
    color: var(--accent-color);
    transform: translateX(5px);
}

.social-links {
    display: flex;
    gap: 15px;
    margin-top: 20px;
}

.social-links a {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.1);
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    transition: var(--transition);
}

.social-links a:hover {
    background: var(--accent-color);
    transform: translateY(-3px);
}

.footer-bottom {
    text-align: center;
    padding-top: 20px;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
    color: rgba(255, 255, 255, 0.6);
    font-size: 0.9rem;
}

/* Responsive Design */
@media (max-width: 768px) {
    .hero h1 {
        font-size: 2.2rem;
    }
    
    .hero p {
        font-size: 1rem;
    }
    
    .product-grid {
        grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
    }
    
    .filter-row {
        grid-template-columns: 1fr;
    }
    
    .footer-content {
        grid-template-columns: 1fr;
    }
}

@media (max-width: 576px) {
    .hero {
        padding: 60px 15px;
    }
    
    .hero h1 {
        font-size: 1.8rem;
    }
    
    .section-header h2 {
        font-size: 1.8rem;
    }
    
    .product-grid {
        grid-template-columns: 1fr;
    }
    
    .navbar-nav {
        margin-top: 10px;
    }
    
    .nav-link {
        padding: 10px 15px !important;
    }
}
</style>
</head>
<body>

<!-- Header & Navigation -->
<header class="header">
    <nav class="navbar navbar-expand-lg">
        <div class="container">
            <a class="navbar-brand" href="#">
                <i class="fas fa-store"></i> Modern Store
            </a>
            
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon" style="color: white;">
                    <i class="fas fa-bars"></i>
                </span>
            </button>
            
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item">
                        <a class="nav-link active" href="#">
                            <i class="fas fa-home"></i> Home
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="addproduct.html">
                            <i class="fas fa-plus-circle"></i> Add Product
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">
                            <i class="fas fa-shopping-cart"></i> Cart
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">
                            <i class="fas fa-user"></i> Profile
                        </a>
                    </li>
                </ul>
                
                <div class="user-info">
                    <div class="user-avatar">
                        <span id="userInitial">U</span>
                    </div>
                    <div class="d-none d-md-block">
                        <span id="userName">Welcome</span>
                    </div>
                </div>
            </div>
        </div>
    </nav>
</header>

<!-- Hero Section -->
<section class="hero">
    <div class="hero-content">
    <h1>Your Personal Marketplace</h1>
    <p>This platform is designed for both buyers and sellers. First, create your account, then start listing products for sale or browse and purchase items from other users. You can buy and sell anything here!</p>
    <div class="hero-buttons">
        <button class="btn-hero btn-hero-primary" onclick="scrollToProducts()">
            <i class="fas fa-shopping-cart"></i> Browse Products
        </button>
        <button class="btn-hero btn-hero-secondary" onclick="location.href='addproduct.html'">
            <i class="fas fa-plus-circle"></i> Sell Items
        </button>
        <button class="btn-hero" onclick="location.href='Home.html'" style="background: #38b000; color: white; border: 2px solid #38b000;">
            <i class="fas fa-user-plus"></i> Create Account
        </button>
    </div>
</div>
</section>

<!-- Products Section -->
<section class="products-section" id="productsSection">
    <div class="container">
        <div class="section-header">
            <h2><i class="fas fa-box-open"></i> Featured Products</h2>
            <p>Browse our collection of products</p>
        </div>

        <!-- Filters -->
        <div class="filters">
            <div class="filter-row">
                <div class="filter-group">
                    <label><i class="fas fa-filter"></i> Sort By</label>
                    <select id="sortBy" class="form-select">
                        <option value="newest">Newest First</option>
                        <option value="price-low">Price: Low to High</option>
                        <option value="price-high">Price: High to Low</option>
                        <option value="name">Name A-Z</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label><i class="fas fa-search"></i> Search Products</label>
                    <input type="text" id="searchInput" class="form-control" placeholder="Search by name or owner...">
                </div>
                <div class="filter-group">
                    <label><i class="fas fa-sliders-h"></i> Price Range</label>
                    <select id="priceRange" class="form-select">
                        <option value="all">All Prices</option>
                        <option value="0-50">Under $50</option>
                        <option value="50-100">$50 - $100</option>
                        <option value="100-500">$100 - $500</option>
                        <option value="500+">Over $500</option>
                    </select>
                </div>
                <div class="filter-group">
                    <button class="btn btn-filter" id="resetFilters">
                        <i class="fas fa-redo"></i> Reset Filters
                    </button>
                </div>
            </div>
        </div>

        <!-- Product Grid -->
        <div class="product-grid" id="productContainer">
            <!-- Products will be loaded here -->
        </div>

        <!-- Empty State -->
        <div class="empty-state" id="emptyState">
            <i class="fas fa-box-open"></i>
            <h3>No Products Yet</h3>
            <p>Be the first to add a product!</p>
            <button class="btn btn-filter mt-3" onclick="location.href='addproduct.html'">
                <i class="fas fa-plus"></i> Add First Product
            </button>
        </div>
    </div>
</section>

<!-- Footer -->
<footer class="footer">
    <div class="container">
        <div class="footer-content">
            <div class="footer-section">
                <h4><i class="fas fa-store"></i> Modern Store</h4>
                <p>Your one-stop destination for quality products. We connect buyers and sellers in a seamless marketplace experience.</p>
                <div class="social-links">
                    <a href="#"><i class="fab fa-facebook-f"></i></a>
                    <a href="#"><i class="fab fa-twitter"></i></a>
                    <a href="#"><i class="fab fa-instagram"></i></a>
                    <a href="#"><i class="fab fa-linkedin-in"></i></a>
                </div>
            </div>
            
            <div class="footer-section">
                <h4><i class="fas fa-link"></i> Quick Links</h4>
                <ul class="footer-links">
                    <li><a href="#"><i class="fas fa-chevron-right"></i> Home</a></li>
                    <li><a href="addproduct.html"><i class="fas fa-chevron-right"></i> Add Product</a></li>
                    <li><a href="index.html"><i class="fas fa-chevron-right"></i> Sign Up</a></li>
                    <li><a href="login.html"><i class="fas fa-chevron-right"></i> Login</a></li>
                    <li><a href="#"><i class="fas fa-chevron-right"></i> Contact Us</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h4><i class="fas fa-info-circle"></i> Information</h4>
                <ul class="footer-links">
                    <li><a href="#"><i class="fas fa-chevron-right"></i> About Us</a></li>
                    <li><a href="#"><i class="fas fa-chevron-right"></i> Privacy Policy</a></li>
                    <li><a href="#"><i class="fas fa-chevron-right"></i> Terms of Service</a></li>
                    <li><a href="#"><i class="fas fa-chevron-right"></i> FAQ</a></li>
                    <li><a href="#"><i class="fas fa-chevron-right"></i> Help Center</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h4><i class="fas fa-envelope"></i> Contact Info</h4>
                <p><i class="fas fa-map-marker-alt"></i> 123 Street, City, Country</p>
                <p><i class="fas fa-phone"></i> +1 234 567 8900</p>
                <p><i class="fas fa-envelope"></i> info@modernstore.com</p>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2025 Modern Store. All rights reserved. | Designed with <i class="fas fa-heart" style="color: #ff6b6b;"></i> for the community</p>
        </div>
    </div>
</footer>

<script>
// Wait for DOM to be fully loaded
document.addEventListener('DOMContentLoaded', function() {
    // Get DOM elements
    const productContainer = document.getElementById('productContainer');
    const emptyState = document.getElementById('emptyState');
    const searchInput = document.getElementById('searchInput');
    const sortBy = document.getElementById('sortBy');
    const priceRange = document.getElementById('priceRange');
    const resetFilters = document.getElementById('resetFilters');
    const userInitial = document.getElementById('userInitial');
    const userName = document.getElementById('userName');
    
    // Initialize empty products array if none exist
    if (!localStorage.getItem('products')) {
        localStorage.setItem('products', JSON.stringify([]));
    }
    
    // Load current user info
    const currentUser = JSON.parse(localStorage.getItem('currentUser'));
    if (currentUser && currentUser.fullName) {
        userInitial.textContent = currentUser.fullName.charAt(0).toUpperCase();
        userName.textContent = `Welcome, ${currentUser.fullName.split(' ')[0]}`;
    }
    
    // Render products with animation - SHOWS ALL PRODUCTS (with or without images)
    function renderProducts(products = []) {
        productContainer.innerHTML = "";
        
        if (products.length === 0) {
            emptyState.style.display = 'block';
            return;
        }
        
        emptyState.style.display = 'none';
        
        products.forEach((product, index) => {
            const card = document.createElement('div');
            card.classList.add('product-card');
            card.style.animationDelay = `${index * 0.1}s`;
            
            card.innerHTML = `
                <div class="product-image">
                    ${product.image && product.image !== '' ? 
                        `<img src="${product.image}" alt="${product.title}" 
                             onerror="this.onerror=null; this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3Qgd2lkdGg9IjIwMCIgaGVpZ2h0PSIyMDAiIGZpbGw9IiNFM0U5RkYiLz48cGF0aCBkPSJNNjAgNjBIMTQwVjE0MEg2MFY2MFoiIGZpbGw9IiNDM0M4RTIiLz48cGF0aCBkPSJNNzAgNzBIMTMwVjEzMEg3MFY3MFoiIGZpbGw9IiM0MzYxRUUiLz48L3N2Zz4='">` : 
                        `<i class="fas fa-box-open default-img"></i>`
                    }
                </div>
                <div class="product-details">
                    <h3 class="product-title">${product.title}</h3>
                    <div class="product-owner">
                        <i class="fas fa-user"></i>
                        <span>${product.owner}</span>
                    </div>
                    <div class="product-price">${product.price.toFixed(2)}</div>
                    <div class="product-actions">
                        <button class="btn-buy" onclick="addToCart(${index})">
                            <i class="fas fa-shopping-cart"></i> Buy Now
                        </button>
                        <button class="btn-details" onclick="showProductDetails(${index})">
                            <i class="fas fa-info-circle"></i> Details
                        </button>
                    </div>
                </div>
            `;
            
            productContainer.appendChild(card);
        });
    }
    
    // Filter and sort products
    function getFilteredProducts() {
        let products = JSON.parse(localStorage.getItem('products')) || [];
        const searchTerm = searchInput.value.toLowerCase();
        const sortValue = sortBy.value;
        const priceValue = priceRange.value;
        
        // Apply search filter
        if (searchTerm) {
            products = products.filter(product => 
                product.title.toLowerCase().includes(searchTerm) ||
                product.owner.toLowerCase().includes(searchTerm)
            );
        }
        
        // Apply price filter
        if (priceValue !== 'all') {
            products = products.filter(product => {
                const price = product.price;
                switch(priceValue) {
                    case '0-50': return price <= 50;
                    case '50-100': return price > 50 && price <= 100;
                    case '100-500': return price > 100 && price <= 500;
                    case '500+': return price > 500;
                    default: return true;
                }
            });
        }
        
        // Apply sorting
        switch(sortValue) {
            case 'price-low':
                products.sort((a, b) => a.price - b.price);
                break;
            case 'price-high':
                products.sort((a, b) => b.price - a.price);
                break;
            case 'name':
                products.sort((a, b) => a.title.localeCompare(b.title));
                break;
            case 'newest':
            default:
                products.sort((a, b) => new Date(b.dateAdded) - new Date(a.dateAdded));
                break;
        }
        
        return products;
    }
    
    // Add product to cart
    function addToCart(productIndex) {
        const products = JSON.parse(localStorage.getItem('products')) || [];
        const product = products[productIndex];
        
        if (!product) return;
        
        // Get current cart or initialize empty array
        const cart = JSON.parse(localStorage.getItem('cart')) || [];
        
        // Add product to cart
        cart.push({
            ...product,
            addedAt: new Date().toISOString(),
            quantity: 1
        });
        
        // Save cart
        localStorage.setItem('cart', JSON.stringify(cart));
        localStorage.removeItem('products');
        // Show notification
        showNotification(`Added "${product.title}" to cart!`);
    }
    
    // Show product details
    function showProductDetails(productIndex) {
        const products = JSON.parse(localStorage.getItem('products')) || [];
        const product = products[productIndex];
        
        if (!product) return;
        
        const details = `
            Product: ${product.title}
            Owner: ${product.owner}
            Price: $${product.price.toFixed(2)}
            ${product.dateAdded ? `Date Added: ${new Date(product.dateAdded).toLocaleDateString()}` : ''}
            ${product.image ? '✓ Includes Image' : '✗ No Image'}
        `;
        
        alert(details);
    }
    
    // Show notification
    function showNotification(message) {
        // Remove existing notifications
        const existingNotifications = document.querySelectorAll('.notification');
        existingNotifications.forEach(notif => notif.remove());
        
        // Create notification element
        const notification = document.createElement('div');
        notification.className = 'notification';
        notification.style.position = 'fixed';
        notification.style.top = '20px';
        notification.style.right = '20px';
        notification.style.background = 'linear-gradient(135deg, var(--success-color), #2e7d32)';
        notification.style.color = 'white';
        notification.style.padding = '15px 20px';
        notification.style.borderRadius = '10px';
        notification.style.boxShadow = 'var(--shadow)';
        notification.style.display = 'flex';
        notification.style.alignItems = 'center';
        notification.style.gap = '10px';
        notification.style.zIndex = '10000';
        notification.innerHTML = `
            <i class="fas fa-check-circle"></i>
            <span>${message}</span>
        `;
        
        document.body.appendChild(notification);
        
        // Remove after 3 seconds
        setTimeout(() => {
            notification.remove();
        }, 3000);
    }
    
    // Event listeners
    resetFilters.addEventListener('click', function() {
        searchInput.value = '';
        sortBy.value = 'newest';
        priceRange.value = 'all';
        const allProducts = JSON.parse(localStorage.getItem('products')) || [];
        renderProducts(allProducts);
    });
    
    // Real-time search
    searchInput.addEventListener('input', function() {
        const filteredProducts = getFilteredProducts();
        renderProducts(filteredProducts);
    });
    
    // Sort change
    sortBy.addEventListener('change', function() {
        const filteredProducts = getFilteredProducts();
        renderProducts(filteredProducts);
    });
    
    // Price range change
    priceRange.addEventListener('change', function() {
        const filteredProducts = getFilteredProducts();
        renderProducts(filteredProducts);
    });
    
    // Initial render
    const allProducts = JSON.parse(localStorage.getItem('products')) || [];
    renderProducts(allProducts);
    
    // Update products when storage changes (for other tabs/windows)
    window.addEventListener('storage', function(e) {
        if (e.key === 'products') {
            const filteredProducts = getFilteredProducts();
            renderProducts(filteredProducts);
        }
    });
    
    // Auto-refresh every 3 seconds to catch new additions
    setInterval(() => {
        const filteredProducts = getFilteredProducts();
        renderProducts(filteredProducts);
    }, 3000);
});

// Global functions
function scrollToProducts() {
    document.getElementById('productsSection').scrollIntoView({ 
        behavior: 'smooth' 
    });
}
</script>

<!-- Bootstrap JS Bundle -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>